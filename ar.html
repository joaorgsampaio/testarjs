<html>
  <head>
    <!-- <script src="https://rawgit.com/google-ar/three.ar.js/master/dist/three.ar.js"></script> -->
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <!-- <script src="http://wizgrav.github.io/aframe-effects/dist/aframe-effects.min.js"></script> -->
    <script>
  AFRAME.registerComponent('navigate-on-click', {
    schema: {
      url: {default: ''}
    },

    init: function () {
      var data = this.data;
      var el = this.el;

      el.addEventListener('click', function () {
        window.location.href = data.url;
      });
    }
  });

  var rotationAngle = 45

  function rotateIt() {
    rotationAngle += 45
    console.log(rotationAngle)
    return "30 30 " + rotationAngle
  }

  AFRAME.registerComponent('jaojao', {
    init: function () {
      var data = this.data;
      var el = this.el;

      el.addEventListener('click', function () {
        console.log('JAOJAO')
        // alert(document.getElementById("changeable").getAttribute("fill"));
        // var aaa = rotateIt()
        // console.log(aaa)
        // document.getElementById("cube").setAttribute("rotation",rotateIt())
        // document.getElementById("changeable").setAttribute("to",rotateIt())
      });
    }
  });

  /**
   * Specifies an envMap on an entity, without replacing any existing material
   * properties.
   */
  AFRAME.registerComponent('cube-env-map', {
    schema: {
      path: {default: ''},
      extension: {default: 'jpg'},
      format: {default: 'RGBFormat'},
      enableBackground: {default: false}
    },

    init: function () {
      const data = this.data;

      this.texture = new THREE.CubeTextureLoader().load([
        data.path + 'posx.' + data.extension, data.path + 'negx.' + data.extension,
        data.path + 'posy.' + data.extension, data.path + 'negy.' + data.extension,
        data.path + 'posz.' + data.extension, data.path + 'negz.' + data.extension
      ]);
      this.texture.format = THREE[data.format];

      if (data.enableBackground) {
        this.el.sceneEl.object3D.background = this.texture;
      }

      this.applyEnvMap();
      this.el.addEventListener('object3dset', this.applyEnvMap.bind(this));
    },

    applyEnvMap: function () {
      const mesh = this.el.getObject3D('mesh');
      const envMap = this.texture;

      if (!mesh) return;

      mesh.traverse(function (node) {
        if (node.material && 'envMap' in node.material) {
          node.material.envMap = envMap;
          node.material.needsUpdate = true;
        }
      });
    }
  });
</script>  </head>
  <body>
    <a-scene embedded="" arjs="debugUIEnabled: false;" class="" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="enabled: false;">
      <a-marker type='pattern' preset='pattern' url='paw.patt'>
        <a-gltf-model src="./slot/slotmachine.glb" position="0 0.5 0" rotation="90 180 0" scale="0.075 0.075 0.075" animation-mixer="clip: anim_Clip1; loop:repeat" sound="src: url(music.mp3); volume: 2; refDistance: 5; autoplay: true; loop: true" cube-env-map="path: assets/Fjaderholmarna/"> </a-gltf-model>
      </a-marker>
      <a-camera-static position="" rotation="" scale="" visible="" material="" camera="">
      </a-camera-static>
    <a-light color="#fff" position="0 10 0" angle="0" intensity="2.0"></a-light>
    <a-light color="#fff" position="0 0 -10" angle="0" intensity="2.0"></a-light>
    <a-light color="#fb7" position="-10 10 0" intensity="1.0"></a-light>
    <a-light type="ambient" color="#CCC"></a-light>
    </a-scene>
  </body>
</html>
