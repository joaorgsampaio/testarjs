<html>
  <head>
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script>
  AFRAME.registerComponent('navigate-on-click', {
    schema: {
      url: {default: ''}
    },

    init: function () {
      var data = this.data;
      var el = this.el;

      el.addEventListener('click', function () {
        window.location.href = data.url;
      });
    }
  });

  var rotationAngle = 45

  function rotateIt() {
    rotationAngle += 45
    console.log(rotationAngle)
    return "30 30 " + rotationAngle
  }

  AFRAME.registerComponent('jaojao', {
    init: function () {
      var data = this.data;
      var el = this.el;

      el.addEventListener('click', function () {
        console.log('JAOJAO')
        // alert(document.getElementById("changeable").getAttribute("fill"));
        // var aaa = rotateIt()
        // console.log(aaa)
        document.getElementById("cube").setAttribute("rotation",rotateIt())
        document.getElementById("changeable").setAttribute("to",rotateIt())
      });
    }
  });

</script>
  </head>
  <body>
    <a-scene vr-mode-ui="enabled: false;" cursor="rayOrigin: mouse;" arjs="debugUIEnabled: false;">
        <!-- <a-box position="0 0.5 -2" rotation="30 30 0" color="skyblue"
             event-set__enter="_event: mouseenter; material.color: yellowgreen; scale: 3 1 1"
             event-set__leave="_event: mouseleave; material.color: skyblue; scale: 1 1 1"
             jaojao=""
             id="cube">
             <a-animation attribute="rotation"
             begin="click"
             dur="500"
             fill="forwards"
             to="30 30 45"
             id="changeable">
</a-animation>
        </a-box>
        <a-box id="orange-cube" position="2 0.5 -2" rotation="30 30 0"
      width="1" depth="1" height="1" color="#F16745"
      navigate-on-click="url: http://google.com"></a-box>
      <a-sky color="#ECECEC"></a-sky> -->
      <a-gltf-model src="./mech_drone/scene.gltf" position="0 0 0" rotation="0 0 0" scale="0.01 0.01 0.01" animation-mixer="clip: Take 001; loop:repeat"> </a-gltf-model>
      <a-marker-camera patternUrl='./pattern-market.patt'></a-marker-camera>
    </a-scene>
  </body>
</html>
